!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var r,o,i=n(1),u=n(2),c=0,a=0;e.exports=function(e,t,n){var l=t&&n||0,s=t||[],f=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==p){var d=i();null==f&&(f=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==p&&(p=o=16383&(d[6]<<8|d[7]))}var y=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:a+1,h=y-c+(v-a)/1e4;if(h<0&&void 0===e.clockseq&&(p=p+1&16383),(h<0||y>c)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=y,a=v,o=p;var w=(1e4*(268435455&(y+=122192928e5))+v)%4294967296;s[l++]=w>>>24&255,s[l++]=w>>>16&255,s[l++]=w>>>8&255,s[l++]=255&w;var b=y/4294967296*1e4&268435455;s[l++]=b>>>8&255,s[l++]=255&b,s[l++]=b>>>24&15|16,s[l++]=b>>>16&255,s[l++]=p>>>8|128,s[l++]=255&p;for(var g=0;g<6;++g)s[l+g]=f[g];return t||u(s)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){"use strict";n.r(t);var r,o=function(){function e(){this.delegate=document.createDocumentFragment()}return e.prototype.addEventListener=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.delegate.addEventListener.apply(this.delegate,e)},e.prototype.dispatchEvent=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.delegate.dispatchEvent.apply(this.delegate,e)},e.prototype.removeEventListener=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.delegate.removeEventListener.apply(this.delegate,e)},e}(),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.download=function(e){var t=this;return new Promise(function(n){fetch(e).then(function(e){var r=e.body.getReader(),o=0,i=[],u=function(e){if(!e.done){i.push(e.value),o+=e.value.length;var c=new CustomEvent("progress",{detail:{bytesReceived:o}});return t.dispatchEvent(c),console.log("Received",o,"bytes of data so far"),r.read().then(u)}console.log("Fetch complete");var a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=0,i=t;o<i.length;o++)r+=(s=i[o]).length;for(var u=new e(r),c=0,a=0,l=t;a<l.length;a++){var s=l[a];u.set(s,c),c+=s.length}return u}.apply(void 0,[Uint8Array].concat(i)),l=URL.createObjectURL(new Blob([a.buffer],{type:"application/octet-stream"}));n(l)};return r.read().then(u)})})},t}(o),c=n(0),a=n.n(c),l=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function u(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(u,c)}a((r=r.apply(e,t||[])).next())})},f=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.download=function(e){var t=this;return new Promise(function(n,r){var o=function(e){console.error(e),r(e)};(window.requestFileSystem||window.webkitRequestFileSystem)(window.TEMPORARY,1572864e3,function(r){console.log("Opened file system: "+r.name),r.root.getFile(a()()+".pdf",{create:!0},function(r){fetch(e).then(function(e){var o=e.body.getReader(),i=0,u=function(e){return s(t,void 0,void 0,function(){var t;return f(this,function(c){switch(c.label){case 0:return e.done?(console.log("Fetch complete"),n(r.toURL()),[2]):[4,this.writeChunkOnFile(r,e.value)];case 1:return c.sent(),i+=e.value.length,t=new CustomEvent("progress",{detail:{bytesReceived:i}}),this.dispatchEvent(t),console.log("Just received "+e.value.length+" bytes"),console.log("Received",i,"bytes of data so far"),[2,o.read().then(u)]}})})};return o.read().then(u)})},o)},o)})},t.prototype.writeChunkOnFile=function(e,t){return s(this,void 0,void 0,function(){return f(this,function(n){return[2,new Promise(function(n,r){e.createWriter(function(e){e.onwriteend=function(e){n(),console.log("Write completed.")},e.onerror=function(e){r(),console.log("Write failed: "+e.toString())},console.log("written so far = "+e.length),e.seek(e.length);var o=new Blob([t],{type:"application/octet-stream"});e.write(o)},function(e){throw console.error(e),new Error(e)})})]})})},t}(o),d=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.download=function(e){return Promise.resolve(e)},t}(o);var v=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function u(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(u,c)}a((r=r.apply(e,t||[])).next())})},h=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},w=document.getElementById("root");v(void 0,void 0,void 0,function(){var e,t,n,r,o,i;return h(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),e=document.querySelector("#root a"),(t=document.createElement("div")).className="loading",t.innerHTML="Loading:",w.replaceChild(t,e),a=window.requestFileSystem||window.webkitRequestFileSystem,(n=window.fetch&&window.ReadableStream?a?new p:new u:new y).addEventListener("progress",function(e){var n=Math.floor(e.detail.bytesReceived/174156788*100);t.innerHTML="Loading: "+n+"%"}),[4,n.download("files/book.pdf")];case 1:return r=c.sent(),(o=document.createElement("a")).href=r,o.download="book.pdf",o.innerHTML="Download",w.replaceChild(o,t),[3,3];case 2:return i=c.sent(),console.error(i),[3,3];case 3:return[2]}var a})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvdjEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL3JuZy1icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ieXRlc1RvVXVpZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRGVsZWdhdGVkRXZlbnRUYXJnZXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Rvd25sb2FkZXJzL01lbW9yeURvd25sb2FkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Rvd25sb2FkZXJzL0ZpbGVTeXN0ZW1Eb3dubG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9kb3dubG9hZGVycy9TaW1wbGVEb3dubG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Rvd25sb2FkZXJGYWN0b3J5LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX25vZGVJZCIsIl9jbG9ja3NlcSIsInJuZyIsImJ5dGVzVG9VdWlkIiwiX2xhc3RNU2VjcyIsIl9sYXN0TlNlY3MiLCJvcHRpb25zIiwiYnVmIiwib2Zmc2V0IiwiYiIsIm5vZGUiLCJjbG9ja3NlcSIsInVuZGVmaW5lZCIsInNlZWRCeXRlcyIsIm1zZWNzIiwiRGF0ZSIsImdldFRpbWUiLCJuc2VjcyIsImR0IiwiRXJyb3IiLCJ0bCIsInRtaCIsImdldFJhbmRvbVZhbHVlcyIsImNyeXB0byIsIndpbmRvdyIsIm1zQ3J5cHRvIiwicm5kczgiLCJVaW50OEFycmF5Iiwicm5kcyIsIkFycmF5IiwiTWF0aCIsInJhbmRvbSIsImJ5dGVUb0hleCIsInRvU3RyaW5nIiwic3Vic3RyIiwiYnRoIiwiam9pbiIsIkRlbGVnYXRlZEV2ZW50VGFyZ2V0IiwidGhpcyIsImRlbGVnYXRlIiwiZG9jdW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImFyZ3MiLCJfaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFwcGx5IiwiZGlzcGF0Y2hFdmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfc3VwZXIiLCJNZW1vcnlEb3dubG9hZGVyIiwiX19leHRlbmRzIiwiZG93bmxvYWQiLCJzcmMiLCJfdGhpcyIsIlByb21pc2UiLCJyZXNvbHZlIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJyZWFkZXIiLCJib2R5IiwiZ2V0UmVhZGVyIiwiYnl0ZXNSZWNlaXZlZCIsImNvbnRlbnQiLCJwcm9jZXNzUmVzdWx0IiwicmVzdWx0IiwiZG9uZSIsInB1c2giLCJldmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiY29uc29sZSIsImxvZyIsInJlYWQiLCJ0eXBlZEFycmF5IiwicmVzdWx0Q29uc3RydWN0b3IiLCJhcnJheXMiLCJ0b3RhbExlbmd0aCIsIl9hIiwiYXJyYXlzXzEiLCJhcnIiLCJfYiIsImFycmF5c18yIiwic2V0IiwiY29uY2F0Iiwib2JqZWN0VVJMIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsImJ1ZmZlciIsInR5cGUiLCJGaWxlU3lzdGVtRG93bmxvYWRlciIsIkZpbGVTeXN0ZW1Eb3dubG9hZGVyX2V4dGVuZHMiLCJyZWplY3QiLCJlcnJvckhhbmRsZXIiLCJlcnIiLCJlcnJvciIsInJlcXVlc3RGaWxlU3lzdGVtIiwid2Via2l0UmVxdWVzdEZpbGVTeXN0ZW0iLCJURU1QT1JBUlkiLCJmaWxlU3lzdGVtIiwicm9vdCIsImdldEZpbGUiLCJ2MV9kZWZhdWx0IiwiZmlsZUVudHJ5IiwiX19hd2FpdGVyIiwidG9VUkwiLCJ3cml0ZUNodW5rT25GaWxlIiwic2VudCIsImRhdGEiLCJjcmVhdGVXcml0ZXIiLCJmaWxlV3JpdGVyIiwib253cml0ZWVuZCIsImUiLCJvbmVycm9yIiwic2VlayIsImJsb2IiLCJ3cml0ZSIsIlNpbXBsZURvd25sb2FkZXIiLCJTaW1wbGVEb3dubG9hZGVyX2V4dGVuZHMiLCJnZXRFbGVtZW50QnlJZCIsImFwcF9hd2FpdGVyIiwiYW5jaG9yIiwicXVlcnlTZWxlY3RvciIsImxvYWRpbmdfMSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbm5lckhUTUwiLCJyZXBsYWNlQ2hpbGQiLCJkb3dubG9hZGVyIiwiUmVhZGFibGVTdHJlYW0iLCJkb3dubG9hZGVyc19GaWxlU3lzdGVtRG93bmxvYWRlciIsImRvd25sb2FkZXJzX01lbW9yeURvd25sb2FkZXIiLCJkb3dubG9hZGVyc19TaW1wbGVEb3dubG9hZGVyIiwicmF0ZSIsImZsb29yIiwibG9hZGluZ1N0cmluZ18xIiwiZG93bmxvYWRVUkwiLCJidXR0b24iLCJocmVmIiwiZXJyXzEiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFB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ZDhCLEVBQVNwRyxTQUFTdUYsY0FBYyxNQUMvQmMsS0FBT0YsRUFDZEMsRUFBT3ZGLFNBQVcsV0FDbEJ1RixFQUFPWCxVQUFZLFdBRW5CMUIsRUFBSzJCLGFBQWFVLEVBQVFkLGtDQUUxQnJELFFBQVF5QixNQUFNNEMsMEJDeEJILElBWVAzQyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG4vLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbnZhciBfbm9kZUlkO1xudmFyIF9jbG9ja3NlcTtcblxuLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG52YXIgX2xhc3RNU2VjcyA9IDA7XG52YXIgX2xhc3ROU2VjcyA9IDA7XG5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYnJvb2ZhL25vZGUtdXVpZCBmb3IgQVBJIGRldGFpbHNcbmZ1bmN0aW9uIHYxKG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuICB2YXIgYiA9IGJ1ZiB8fCBbXTtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDtcbiAgdmFyIGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTtcblxuICAvLyBub2RlIGFuZCBjbG9ja3NlcSBuZWVkIHRvIGJlIGluaXRpYWxpemVkIHRvIHJhbmRvbSB2YWx1ZXMgaWYgdGhleSdyZSBub3RcbiAgLy8gc3BlY2lmaWVkLiAgV2UgZG8gdGhpcyBsYXppbHkgdG8gbWluaW1pemUgaXNzdWVzIHJlbGF0ZWQgdG8gaW5zdWZmaWNpZW50XG4gIC8vIHN5c3RlbSBlbnRyb3B5LiAgU2VlICMxODlcbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCBjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgdmFyIHNlZWRCeXRlcyA9IHJuZygpO1xuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxuICAgICAgbm9kZSA9IF9ub2RlSWQgPSBbXG4gICAgICAgIHNlZWRCeXRlc1swXSB8IDB4MDEsXG4gICAgICAgIHNlZWRCeXRlc1sxXSwgc2VlZEJ5dGVzWzJdLCBzZWVkQnl0ZXNbM10sIHNlZWRCeXRlc1s0XSwgc2VlZEJ5dGVzWzVdXG4gICAgICBdO1xuICAgIH1cbiAgICBpZiAoY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuMi4yLCByYW5kb21pemUgKDE0IGJpdCkgY2xvY2tzZXFcbiAgICAgIGNsb2Nrc2VxID0gX2Nsb2Nrc2VxID0gKHNlZWRCeXRlc1s2XSA8PCA4IHwgc2VlZEJ5dGVzWzddKSAmIDB4M2ZmZjtcbiAgICB9XG4gIH1cblxuICAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cbiAgdmFyIG1zZWNzID0gb3B0aW9ucy5tc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tc2VjcyA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gIC8vIFBlciA0LjIuMS4yLCB1c2UgY291bnQgb2YgdXVpZCdzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGN1cnJlbnQgY2xvY2tcbiAgLy8gY3ljbGUgdG8gc2ltdWxhdGUgaGlnaGVyIHJlc29sdXRpb24gY2xvY2tcbiAgdmFyIG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxO1xuXG4gIC8vIFRpbWUgc2luY2UgbGFzdCB1dWlkIGNyZWF0aW9uIChpbiBtc2VjcylcbiAgdmFyIGR0ID0gKG1zZWNzIC0gX2xhc3RNU2VjcykgKyAobnNlY3MgLSBfbGFzdE5TZWNzKS8xMDAwMDtcblxuICAvLyBQZXIgNC4yLjEuMiwgQnVtcCBjbG9ja3NlcSBvbiBjbG9jayByZWdyZXNzaW9uXG4gIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2xvY2tzZXEgPSBjbG9ja3NlcSArIDEgJiAweDNmZmY7XG4gIH1cblxuICAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuICAvLyB0aW1lIGludGVydmFsXG4gIGlmICgoZHQgPCAwIHx8IG1zZWNzID4gX2xhc3RNU2VjcykgJiYgb3B0aW9ucy5uc2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbnNlY3MgPSAwO1xuICB9XG5cbiAgLy8gUGVyIDQuMi4xLjIgVGhyb3cgZXJyb3IgaWYgdG9vIG1hbnkgdXVpZHMgYXJlIHJlcXVlc3RlZFxuICBpZiAobnNlY3MgPj0gMTAwMDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3V1aWQudjEoKTogQ2FuXFwndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWMnKTtcbiAgfVxuXG4gIF9sYXN0TVNlY3MgPSBtc2VjcztcbiAgX2xhc3ROU2VjcyA9IG5zZWNzO1xuICBfY2xvY2tzZXEgPSBjbG9ja3NlcTtcblxuICAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcbiAgbXNlY3MgKz0gMTIyMTkyOTI4MDAwMDA7XG5cbiAgLy8gYHRpbWVfbG93YFxuICB2YXIgdGwgPSAoKG1zZWNzICYgMHhmZmZmZmZmKSAqIDEwMDAwICsgbnNlY3MpICUgMHgxMDAwMDAwMDA7XG4gIGJbaSsrXSA9IHRsID4+PiAyNCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiAxNiAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdGwgJiAweGZmO1xuXG4gIC8vIGB0aW1lX21pZGBcbiAgdmFyIHRtaCA9IChtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDApICYgMHhmZmZmZmZmO1xuICBiW2krK10gPSB0bWggPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bWggJiAweGZmO1xuXG4gIC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMjQgJiAweGYgfCAweDEwOyAvLyBpbmNsdWRlIHZlcnNpb25cbiAgYltpKytdID0gdG1oID4+PiAxNiAmIDB4ZmY7XG5cbiAgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpXG4gIGJbaSsrXSA9IGNsb2Nrc2VxID4+PiA4IHwgMHg4MDtcblxuICAvLyBgY2xvY2tfc2VxX2xvd2BcbiAgYltpKytdID0gY2xvY2tzZXEgJiAweGZmO1xuXG4gIC8vIGBub2RlYFxuICBmb3IgKHZhciBuID0gMDsgbiA8IDY7ICsrbikge1xuICAgIGJbaSArIG5dID0gbm9kZVtuXTtcbiAgfVxuXG4gIHJldHVybiBidWYgPyBidWYgOiBieXRlc1RvVXVpZChiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2MTtcbiIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuICBJbiB0aGVcbi8vIGJyb3dzZXIgdGhpcyBpcyBhIGxpdHRsZSBjb21wbGljYXRlZCBkdWUgdG8gdW5rbm93biBxdWFsaXR5IG9mIE1hdGgucmFuZG9tKClcbi8vIGFuZCBpbmNvbnNpc3RlbnQgc3VwcG9ydCBmb3IgdGhlIGBjcnlwdG9gIEFQSS4gIFdlIGRvIHRoZSBiZXN0IHdlIGNhbiB2aWFcbi8vIGZlYXR1cmUtZGV0ZWN0aW9uXG5cbi8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0b1xuLy8gaW1wbGVtZW50YXRpb24uIEFsc28sIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byBvbiBJRTExLlxudmFyIGdldFJhbmRvbVZhbHVlcyA9ICh0eXBlb2YoY3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YobXNDcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pKTtcblxuaWYgKGdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG4gICAgZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbiAgICByZXR1cm4gcm5kczg7XG4gIH07XG59IGVsc2Uge1xuICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG4gIC8vXG4gIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gIC8vIHF1YWxpdHkuXG4gIHZhciBybmRzID0gbmV3IEFycmF5KDE2KTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hdGhSTkcoKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICBpZiAoKGkgJiAweDAzKSA9PT0gMCkgciA9IE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMDtcbiAgICAgIHJuZHNbaV0gPSByID4+PiAoKGkgJiAweDAzKSA8PCAzKSAmIDB4ZmY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJuZHM7XG4gIH07XG59XG4iLCIvKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbnZhciBieXRlVG9IZXggPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbn1cblxuZnVuY3Rpb24gYnl0ZXNUb1V1aWQoYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGJ0aCA9IGJ5dGVUb0hleDtcbiAgLy8gam9pbiB1c2VkIHRvIGZpeCBtZW1vcnkgaXNzdWUgY2F1c2VkIGJ5IGNvbmNhdGVuYXRpb246IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMxNzUjYzRcbiAgcmV0dXJuIChbYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXV0pLmpvaW4oJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ5dGVzVG9VdWlkO1xuIiwiLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTEzNDMzMjIvZXh0ZW5kaW5nLWV2ZW50dGFyZ2V0LWluLXR5cGVzY3JpcHQtYW5ndWxhci0yXG5leHBvcnQgY2xhc3MgRGVsZWdhdGVkRXZlbnRUYXJnZXQgaW1wbGVtZW50cyBFdmVudFRhcmdldCB7XG4gIHByaXZhdGUgZGVsZWdhdGUgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgYWRkRXZlbnRMaXN0ZW5lciguLi5hcmdzOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLmRlbGVnYXRlLmFkZEV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcy5kZWxlZ2F0ZSwgYXJncyk7XG4gIH1cblxuICBkaXNwYXRjaEV2ZW50KC4uLmFyZ3M6IGFueSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmRpc3BhdGNoRXZlbnQuYXBwbHkodGhpcy5kZWxlZ2F0ZSwgYXJncyk7XG4gIH1cblxuICByZW1vdmVFdmVudExpc3RlbmVyKC4uLmFyZ3M6IGFueSk6IHZvaWQge1xuICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLnJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcy5kZWxlZ2F0ZSwgYXJncyk7XG4gIH1cbn1cbiIsImltcG9ydCB7IERvd25sb2FkZXIgfSBmcm9tIFwiLi9Eb3dubG9hZGVyXCI7XG5pbXBvcnQgeyBEZWxlZ2F0ZWRFdmVudFRhcmdldCB9IGZyb20gXCIuLi9EZWxlZ2F0ZWRFdmVudFRhcmdldFwiO1xuXG5mdW5jdGlvbiBjb25jYXRlbmF0ZShyZXN1bHRDb25zdHJ1Y3RvcjogYW55LCAuLi5hcnJheXM6IGFueSkge1xuICBsZXQgdG90YWxMZW5ndGggPSAwO1xuICBmb3IgKGxldCBhcnIgb2YgYXJyYXlzKSB7XG4gICAgICB0b3RhbExlbmd0aCArPSBhcnIubGVuZ3RoO1xuICB9XG4gIGxldCByZXN1bHQgPSBuZXcgcmVzdWx0Q29uc3RydWN0b3IodG90YWxMZW5ndGgpO1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgZm9yIChsZXQgYXJyIG9mIGFycmF5cykge1xuICAgICAgcmVzdWx0LnNldChhcnIsIG9mZnNldCk7XG4gICAgICBvZmZzZXQgKz0gYXJyLmxlbmd0aDtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZW1vcnlEb3dubG9hZGVyIGV4dGVuZHMgRGVsZWdhdGVkRXZlbnRUYXJnZXQgaW1wbGVtZW50cyBEb3dubG9hZGVyIHtcbiAgZG93bmxvYWQoc3JjOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgZmV0Y2goc3JjKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgLy8gcmVzcG9uc2UuYm9keSBpcyBhIHJlYWRhYmxlIHN0cmVhbS5cbiAgICAgICAgLy8gQ2FsbGluZyBnZXRSZWFkZXIoKSBnaXZlcyB1cyBleGNsdXNpdmUgYWNjZXNzIHRvXG4gICAgICAgIC8vIHRoZSBzdHJlYW0ncyBjb250ZW50XG4gICAgICAgIHZhciByZWFkZXIgPSByZXNwb25zZS5ib2R5ISEuZ2V0UmVhZGVyKCk7XG4gICAgICAgIHZhciBieXRlc1JlY2VpdmVkID0gMDtcbiAgICAgICAgbGV0IGNvbnRlbnQ6IGFueSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHByb2Nlc3NSZXN1bHQgPSAocmVzdWx0OiBhbnkpOiBhbnkgPT4ge1xuICAgICAgICAgIC8vIFJlc3VsdCBvYmplY3RzIGNvbnRhaW4gdHdvIHByb3BlcnRpZXM6XG4gICAgICAgICAgLy8gZG9uZSAgLSB0cnVlIGlmIHRoZSBzdHJlYW0gaGFzIGFscmVhZHkgZ2l2ZW5cbiAgICAgICAgICAvLyAgICAgICAgIHlvdSBhbGwgaXRzIGRhdGEuXG4gICAgICAgICAgLy8gdmFsdWUgLSBzb21lIGRhdGEuIEFsd2F5cyB1bmRlZmluZWQgd2hlblxuICAgICAgICAgIC8vICAgICAgICAgZG9uZSBpcyB0cnVlLlxuICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGZXRjaCBjb21wbGV0ZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVkQXJyYXkgPSBjb25jYXRlbmF0ZShVaW50OEFycmF5LCAuLi5jb250ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdFVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoXG4gICAgICAgICAgICAgIG5ldyBCbG9iKFt0eXBlZEFycmF5LmJ1ZmZlcl0sIHt0eXBlOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJ30pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVzb2x2ZShvYmplY3RVUkwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRlbnQucHVzaChyZXN1bHQudmFsdWUpO1xuICAgICAgICAgIC8vIHJlc3VsdC52YWx1ZSBmb3IgZmV0Y2ggc3RyZWFtcyBpcyBhIFVpbnQ4QXJyYXlcbiAgICAgICAgICBieXRlc1JlY2VpdmVkICs9IHJlc3VsdC52YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJwcm9ncmVzc1wiLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgYnl0ZXNSZWNlaXZlZCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNlaXZlZCcsIGJ5dGVzUmVjZWl2ZWQsICdieXRlcyBvZiBkYXRhIHNvIGZhcicpO1xuXG4gICAgICAgICAgLy8gUmVhZCBzb21lIG1vcmUsIGFuZCBjYWxsIHRoaXMgZnVuY3Rpb24gYWdhaW5cbiAgICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWQoKS50aGVuKHByb2Nlc3NSZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVhZCgpIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXNcbiAgICAgICAgLy8gd2hlbiBhIHZhbHVlIGhhcyBiZWVuIHJlY2VpdmVkXG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZCgpLnRoZW4ocHJvY2Vzc1Jlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSIsImltcG9ydCB1dWlkdjEgZnJvbSAndXVpZC92MSc7XG5pbXBvcnQgeyBEb3dubG9hZGVyIH0gZnJvbSBcIi4vRG93bmxvYWRlclwiO1xuaW1wb3J0IHsgRGVsZWdhdGVkRXZlbnRUYXJnZXQgfSBmcm9tICcuLi9EZWxlZ2F0ZWRFdmVudFRhcmdldCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbGVTeXN0ZW1Eb3dubG9hZGVyIGV4dGVuZHMgRGVsZWdhdGVkRXZlbnRUYXJnZXQgaW1wbGVtZW50cyBEb3dubG9hZGVyIHtcbiAgZG93bmxvYWQoc3JjOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAvLyB1dGlsIGhhbmRsZXIgdXNlZCBiZWxvd1xuICAgICAgY29uc3QgZXJyb3JIYW5kbGVyID0gKGVycjogYW55KSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9O1xuXG4gICAgICAvLyBhY2Nlc3NpbmcgRmlsZVN5c3RlbSBBUElzXG4gICAgICBjb25zdCByZXF1ZXN0RmlsZVN5c3RlbSA9ICh3aW5kb3cgYXMgYW55KS5yZXF1ZXN0RmlsZVN5c3RlbSB8fFxuICAgICAgICAod2luZG93IGFzIGFueSkud2Via2l0UmVxdWVzdEZpbGVTeXN0ZW07XG5cbiAgICAgIGNvbnN0IG9uSW5pdEZzID0gKGZpbGVTeXN0ZW06IGFueSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnT3BlbmVkIGZpbGUgc3lzdGVtOiAnICsgZmlsZVN5c3RlbS5uYW1lKTtcbiAgICAgICAgLy8gc2VjdXJlIGFjY2VzcyB0byBmaWxlIGJlZm9yZSBkb3dubG9hZGluZyBkYXRhXG4gICAgICAgIGZpbGVTeXN0ZW0ucm9vdC5nZXRGaWxlKGAke3V1aWR2MSgpfS5wZGZgLCB7Y3JlYXRlOiB0cnVlfSwgKGZpbGVFbnRyeTogYW55KSA9PiB7XG4gICAgICAgICAgZmV0Y2goc3JjKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIC8vIHJlc3BvbnNlLmJvZHkgaXMgYSByZWFkYWJsZSBzdHJlYW0uXG4gICAgICAgICAgICAvLyBDYWxsaW5nIGdldFJlYWRlcigpIGdpdmVzIHVzIGV4Y2x1c2l2ZSBhY2Nlc3MgdG9cbiAgICAgICAgICAgIC8vIHRoZSBzdHJlYW0ncyBjb250ZW50XG4gICAgICAgICAgICB2YXIgcmVhZGVyID0gcmVzcG9uc2UuYm9keSEhLmdldFJlYWRlcigpO1xuICAgICAgICAgICAgdmFyIGJ5dGVzUmVjZWl2ZWQgPSAwO1xuXG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzUmVzdWx0ID0gYXN5bmMgKHJlc3VsdDogYW55KTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGZXRjaCBjb21wbGV0ZVwiKTtcbiAgICAgICAgICAgICAgICAvLyByZXNvbHZpbmcgd2l0aCBkb3dubG9hZCBsaW5rIG9uY2UgYWxsIGRhdGEgaGFzIGJlZW4gZG93bmxvYWRlZFxuICAgICAgICAgICAgICAgIHJlc29sdmUoZmlsZUVudHJ5LnRvVVJMKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMud3JpdGVDaHVua09uRmlsZShmaWxlRW50cnksIHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgIGJ5dGVzUmVjZWl2ZWQgKz0gcmVzdWx0LnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJwcm9ncmVzc1wiLCB7XG4gICAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICBieXRlc1JlY2VpdmVkLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBKdXN0IHJlY2VpdmVkICR7cmVzdWx0LnZhbHVlLmxlbmd0aH0gYnl0ZXNgKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkJywgYnl0ZXNSZWNlaXZlZCwgJ2J5dGVzIG9mIGRhdGEgc28gZmFyJyk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkKCkudGhlbihwcm9jZXNzUmVzdWx0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkKCkudGhlbihwcm9jZXNzUmVzdWx0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZXJyb3JIYW5kbGVyKTtcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdEZpbGVTeXN0ZW0oXG4gICAgICAgICh3aW5kb3cgYXMgYW55KS5URU1QT1JBUlksXG4gICAgICAgIDUqMzAwKjEwMjQqMTAyNCAvKjMwME1CKi8sXG4gICAgICAgIG9uSW5pdEZzLFxuICAgICAgICBlcnJvckhhbmRsZXJcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHdyaXRlQ2h1bmtPbkZpbGUoZmlsZUVudHJ5OiBhbnksIGRhdGE6IFVpbnQ4QXJyYXkpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZmlsZUVudHJ5LmNyZWF0ZVdyaXRlcigoZmlsZVdyaXRlcjogYW55KSA9PiB7XG4gICAgICAgIGZpbGVXcml0ZXIub253cml0ZWVuZCA9IChlOiBFdmVudCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnV3JpdGUgY29tcGxldGVkLicpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZpbGVXcml0ZXIub25lcnJvciA9IChlOiBFdmVudCkgPT4ge1xuICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdXcml0ZSBmYWlsZWQ6ICcgKyBlLnRvU3RyaW5nKCkpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zb2xlLmxvZyhgd3JpdHRlbiBzbyBmYXIgPSAke2ZpbGVXcml0ZXIubGVuZ3RofWApO1xuICAgICAgICBmaWxlV3JpdGVyLnNlZWsoZmlsZVdyaXRlci5sZW5ndGgpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBCbG9iIGFuZCB3cml0ZSBpdC5cbiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSwge3R5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nfSk7XG5cbiAgICAgICAgZmlsZVdyaXRlci53cml0ZShibG9iKTtcbiAgICAgIH0sIChlcnI6IGFueSkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgeyBEb3dubG9hZGVyIH0gZnJvbSBcIi4vRG93bmxvYWRlclwiO1xuaW1wb3J0IHsgRGVsZWdhdGVkRXZlbnRUYXJnZXQgfSBmcm9tIFwiLi4vRGVsZWdhdGVkRXZlbnRUYXJnZXRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2ltcGxlRG93bmxvYWRlciBleHRlbmRzIERlbGVnYXRlZEV2ZW50VGFyZ2V0IGltcGxlbWVudHMgRG93bmxvYWRlciB7XG4gIGRvd25sb2FkKHNyYzogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNyYyk7XG4gIH1cbn0iLCJpbXBvcnQgY3JlYXRlRG93bmxvYWRlciBmcm9tICcuL2Rvd25sb2FkZXJGYWN0b3J5JztcblxuLy8gdGhpcyB3b3VsZCBiZSBub3JtYWxseSBhdmFpbGFibGUgYXMgbWV0YWRhdGEgb2YgdGhlIGZpbGVcbmNvbnN0IFRPVEFMX0JZVEVTID0gMTc0MTU2Nzg4O1xuXG5jb25zdCByb290ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTtcblxuY29uc3Qgc3RhcnRBcHAgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgYW5jaG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jvb3QgYScpO1xuICAgIGNvbnN0IGxvYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsb2FkaW5nLmNsYXNzTmFtZSA9ICdsb2FkaW5nJztcbiAgICBjb25zdCBsb2FkaW5nU3RyaW5nID0gXCJMb2FkaW5nOlwiO1xuICAgIGxvYWRpbmcuaW5uZXJIVE1MID0gbG9hZGluZ1N0cmluZztcbiAgICByb290LnJlcGxhY2VDaGlsZChsb2FkaW5nLCBhbmNob3IpO1xuXG4gICAgY29uc3QgZG93bmxvYWRlciA9IGNyZWF0ZURvd25sb2FkZXIoKTtcbiAgICBkb3dubG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLCBmdW5jdGlvbihlOiBhbnkpIHtcbiAgICAgIGNvbnN0IHJhdGUgPSBNYXRoLmZsb29yKChlLmRldGFpbC5ieXRlc1JlY2VpdmVkIC8gVE9UQUxfQllURVMpICogMTAwKTtcbiAgICAgIGxvYWRpbmcuaW5uZXJIVE1MID0gYCR7bG9hZGluZ1N0cmluZ30gJHtyYXRlfSVgO1xuICAgIH0pO1xuICAgIGNvbnN0IGRvd25sb2FkVVJMID0gYXdhaXQgZG93bmxvYWRlci5kb3dubG9hZCgnZmlsZXMvYm9vay5wZGYnKTtcbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgYnV0dG9uLmhyZWYgPSBkb3dubG9hZFVSTDtcbiAgICBidXR0b24uZG93bmxvYWQgPSBcImJvb2sucGRmXCI7XG4gICAgYnV0dG9uLmlubmVySFRNTCA9IFwiRG93bmxvYWRcIjtcblxuICAgIHJvb3QucmVwbGFjZUNoaWxkKGJ1dHRvbiwgbG9hZGluZyk7XG4gIH0gY2F0Y2goZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG59XG5cbnN0YXJ0QXBwKCk7XG4iLCJpbXBvcnQgTWVtb3J5RG93bmxvYWRlciBmcm9tIFwiLi9kb3dubG9hZGVycy9NZW1vcnlEb3dubG9hZGVyXCI7XG5pbXBvcnQgRmlsZVN5c3RlbURvd25sb2FkZXIgZnJvbSBcIi4vZG93bmxvYWRlcnMvRmlsZVN5c3RlbURvd25sb2FkZXJcIjtcbmltcG9ydCBTaW1wbGVEb3dubG9hZGVyIGZyb20gXCIuL2Rvd25sb2FkZXJzL1NpbXBsZURvd25sb2FkZXJcIjtcbmltcG9ydCB7IERvd25sb2FkZXIgfSBmcm9tIFwiLi9kb3dubG9hZGVycy9Eb3dubG9hZGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZURvd25sb2FkZXIoKTogRG93bmxvYWRlciB7XG4gIC8qKlxuICAgKiBGaXJzdCBvZiBhbGwgY2hlY2tzIGlmIHN0cmVhbXMgYW5kIGZldGNoIGFyZSBhdmFpbGFibGUsIHRoZW5cbiAgICogY2hlY2tzIGZvciBGaWxlU3lzdGVtIEFQSXMgYXZhaWxhYmlsaXR5LCBmYWxsaW5nIGJhY2sgdG9cbiAgICogYW4gaW4tbWVtb3J5IGltcGxlbWVudGF0aW9uLlxuICAgKiBJZiBzdHJlYW1zIGFuZCBmZXRjaCBhcmUgbm90IGF2YWlsYWJsZSxcbiAgICogcmV0dXJucyBhbiBcImlkZW50aXR5XCIgaW1wbGVtZW50YXRpb24uXG4gICAqXG4gICAqIEZpbGVTeXN0ZW1Eb3dubG9hZGVyIGFuZCBNZW1vcnkgdXNlIEN1c3RvbUV2ZW50IGFzIHdlbGwsIHRoYXQgaXNcbiAgICogc3VwcG9ydGVkIGJ5IGV2ZXJ5IGJyb3dzZXIgc3VwcG9ydGluZyBSZWFkYWJsZVN0cmVhbXMsXG4gICAqIHRoYXQncyB3aHkgSSdtIG5vdCBjaGVja2luZyBleHBsaWNpdGx5XG4gICAqL1xuICBjb25zdCByZXF1ZXN0RmlsZVN5c3RlbSA9ICh3aW5kb3cgYXMgYW55KS5yZXF1ZXN0RmlsZVN5c3RlbSB8fFxuICAgICh3aW5kb3cgYXMgYW55KS53ZWJraXRSZXF1ZXN0RmlsZVN5c3RlbTtcbiAgY29uc3QgZmV0Y2hBbmRTdHJlYW1zRXhpc3RzID0gISEod2luZG93IGFzIGFueSkuZmV0Y2ggJiZcbiAgICAhISh3aW5kb3cgYXMgYW55KS5SZWFkYWJsZVN0cmVhbTtcblxuICBpZihmZXRjaEFuZFN0cmVhbXNFeGlzdHMpIHtcbiAgICBpZiAocmVxdWVzdEZpbGVTeXN0ZW0pIHtcbiAgICAgIHJldHVybiBuZXcgRmlsZVN5c3RlbURvd25sb2FkZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBNZW1vcnlEb3dubG9hZGVyKCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgU2ltcGxlRG93bmxvYWRlcigpO1xuICB9XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==